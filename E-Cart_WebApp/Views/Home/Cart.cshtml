@*@model IEnumerable<E_Cart_WebApp.Models.ProductsCart>*@
@model IEnumerable<E_Cart_WebApp.DTOs.ProductCartDTO>


<div class="parent-container row">

    <div class="col-md-4 mt-5 d-none d-md-block">
        <img src="~/images/undraw_shopping_app_flsj.svg" alt="image" width="90%" style="position: relative; top: 50%; transform: translateY(-50%);">
    </div>
    
    <div class="p-5 mt-5 rounded-3 col-md-8" style="background-color:#e6e6e6">
        <div class="d-flex justify-content-between mt-2">
            <div>
                <h4 class="text-primary text-uppercase">Your cart</h4>
            </div>
            <div>
                <a class=" fs-6" style="color:grey" asp-action="Product">Continue Shopping</a>
            </div>
        </div>


        <table class="table table-responsive-sm mt-3 ps table">

            <thead class="">
                <tr class="mt-1 text-uppercase " style="color:dimgrey">
                    <th>
                        @Html.DisplayNameFor(model => model.ProductName)

                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.CategoryName)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.Quantity)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.UnitPrice)
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr class="mt-3">
                        <td>
                            @Html.DisplayFor(modelItem => item.ProductName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.CategoryName)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Quantity)
                        </td>
                        <td>
                            <i class="bi bi-currency-rupee">@Html.DisplayFor(modelItem => item.UnitPrice)</i>
                        </td>
                        <td class="d-flex ">
                            @*      <button class="btn btn-primary"><i class="bi bi-bag">&emsp;Buy</i></button>*@

                            <a class="mx-2" asp-controller="Home" asp-action="ClearCartById" asp-route-id="@item.ProductId" type="button"><i class="bi bi-bag-x"></i></a>
                        </td>
                    </tr>
                }
            </tbody>


        </table>

        <div class="d-flex justify-content-between">
            <div class="fs-6">
                <a class="btn btn-warning rounded-2" asp-action="ClearCart">Clear your Cart</a>
                
            </div>
           
        </div>


        <div class="d-flex justify-content-end mt-5  ">
            <span class="fw-bold fs-6 text-end  p-2">Subtotal &nbsp; &#8377; @ViewBag.totalPrice</span>

        </div>
        <div class="d-flex justify-content-end mt-1">
            <button class="btn btn-primary mx-2 px-4 rounded-3" data-bs-toggle="modal" data-bs-target="#orderConfirmation"><i class="bi bi-bag">&emsp;Checkout</i></button>
            <!-- Modal -->
            <div class="modal fade" id="orderConfirmation" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="staticBackdropLabel">Confirm order ?</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>

                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">No</button>
                            <a type="button" class="btn btn-success" asp-action="PlaceOrder">Yes</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>


